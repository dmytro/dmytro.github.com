<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="revisit-after" content="30 days">
<meta name="robots" content="index, follow">

<title>Nagira: RESTful API for Nagios | monitoring | ruby | open source | Dmytro Kovalov</title>

<meta name="description" content="Nagira is Ruby/Sinatra light-weight web services API for accessing and operating data of Nagios hosts and services, accessing Nagios configuration.
">


<meta name="keywords" content="monitoring,ruby,open source,restful api,sinatra"/>
<meta name="revised" content="Dmytro Kovalov,  2012/06/08" />

<meta name="author" content="Dmytro Kovalov" />

<link rel="icon" href="/images/favicon.ico">

<link href='http://fonts.googleapis.com/css?family=Noto+Sans&subset=latin,cyrillic-ext' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Seymour+One&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Comfortaa&subset=latin,cyrillic-ext' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lobster&subset=latin,cyrillic-ext' rel='stylesheet' type='text/css'>

<link rel="stylesheet" type="text/css" href="/css/cssnormalize-min.css">
<link rel="stylesheet" href="/css/dmytro.css" type="text/css">
<link rel="stylesheet" href="/css/pygments.css" type="text/css">

<meta name="thefeedbackbutton" content="Github:ed4d541b3268b2dc5250684b57864d">
<script type="text/javascript" src="http://www.thefeedbackbutton.com/button.js"></script>

<style>#TheFeedbackButton { top: 270px !important; }</style>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33505287-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head><body>
<div id="fb-root"></div>
<script type="text/javascript">(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>














<a href="https://github.com/dmytro/nagira">
<img id="ribbon" src="http://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub" /></a>



<div id="tiki-top">
<table style="margin: 0; padding: 0;" cellspacing="0" cellpadding="0" width="100%" columns="3"><tbody><tr style="padding: 0; margin: 0;">
 <td style="width:120px; 
background-color:#D9A005;  
color:#8b0b04; 
font-wight: bold; 
text-align: right;
padding: 1em;
padding-top: 2em;
border:0; 
border-right: 10px solid #000;">
<p class="motto plus">Лупайте сю скалу...</p><p class='motto'>Іван Франко</p>
</td>
 <td style="border:0;">
    <a href="http://yarylo.sytes.net/"><img align="right" border="0" src="/images/yarylo.png"></a>
    <br clear="all"><div id="top_bar_title">
    <a href="http://yarylo.sytes.net/dmytro" style="color: #8B0B04;">Уроки пані Маєш</a>
   </div>

<div style="float: left">
  <div class="fb-like" data-send="false" data-layout="button_count" data-width="450" data-show-faces="true"></div>
  <div align="right" class="g-plusone" data-size="medium"></div>
</div>

<div style="float: right; padding: 5px;">
  <div ><img height="14" width="14" src="/images/feed-icon-14x14.png">&nbsp;<a href="rss.xml">RSS</a> | <a href="atom.xml">Atom</a></div>
</div>

</td>
 <td style="border: 0;border-left: 10px solid #000; width:200px; background-color:#8B0B04;">
   <p class="editdate" style="font-size: small; color: #D9A005; margin: 5px; margin-top: 100px; margin-right: 80px;">
     14 August 2013
   </p>
 </td>
</tr></tbody></table>  </div>


  <div id="tiki-mid">
    <table border="0" cellpadding="0" cellspacing="0">
    <tbody><tr>
      <td id="leftcolumn"> <p id="preamble"><a class="top" href="/"><h1>TOP &raquo;</h1></a><p>

<div id='tag_cloud'>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#mac" title="mac" rel="7">mac</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#history" title="history" rel="6">history</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#solaris" title="solaris" rel="1">solaris</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#email" title="email" rel="2">email</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#sendmail" title="sendmail" rel="1">sendmail</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#cli" title="cli" rel="7">cli</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#nfs" title="nfs" rel="1">nfs</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#configuration" title="configuration" rel="12">configuration</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#interesting" title="interesting" rel="1">interesting</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#linux" title="linux" rel="6">linux</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#debian" title="debian" rel="4">debian</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#xwindow" title="xwindow" rel="1">xwindow</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#css" title="css" rel="3">css</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#disk" title="disk" rel="1">disk</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#books" title="books" rel="1">books</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#fun" title="fun" rel="1">fun</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#cobbler" title="cobbler" rel="1">cobbler</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#installation" title="installation" rel="3">installation</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#troubleshooting" title="troubleshooting" rel="2">troubleshooting</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#ntp" title="ntp" rel="1">ntp</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#environment" title="environment" rel="3">environment</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#perl" title="perl" rel="1">perl</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#request tracker" title="request tracker" rel="2">request tracker</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#ruby" title="ruby" rel="9">ruby</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#development" title="development" rel="3">development</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#gem" title="gem" rel="1">gem</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#nagios" title="nagios" rel="4">nagios</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#monitoring" title="monitoring" rel="4">monitoring</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#nagira" title="nagira" rel="4">nagira</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#ssh" title="ssh" rel="1">ssh</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#tmux" title="tmux" rel="2">tmux</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#tips" title="tips" rel="8">tips</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#unix" title="unix" rel="3">unix</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#shell" title="shell" rel="3">shell</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#zsh" title="zsh" rel="1">zsh</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#prompt" title="prompt" rel="1">prompt</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#RESTful API" title="RESTful API" rel="3">RESTful API</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#blog" title="blog" rel="7">blog</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#github" title="github" rel="2">github</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#jekyll" title="jekyll" rel="2">jekyll</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#chef" title="chef" rel="1">chef</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#capistrano" title="capistrano" rel="1">capistrano</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#deployment" title="deployment" rel="1">deployment</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#Japan" title="Japan" rel="4">Japan</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#Ukrainian" title="Ukrainian" rel="4">Ukrainian</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#travel" title="travel" rel="4">travel</a>

<a style='text-shadow: -4px 4px 4px rgba(0, 0, 0, 0.2);' href="/tags.html#culture" title="culture" rel="4">culture</a>

</div>
</p>


<h1 class="even">Selected projects  <a style="float: right" href="/github.html"><b>See all &raquo; </b></a> </h1>






<a href="/aws-deploy.html">AWS Deploy</a>



<a href="/banalize.html">Banalize: Bash static code analyzer</a>





<a href="/dbi-report-excel.html">DBIx::Report::Excel</a>



<a href="/dotfiles/index.html">Shell settings, AKA dotfiles</a>







<a href="/github_keys/index.html">Github keys</a>











<a href="/nagios_couchbase.html">Nagios Monitoring for Couchbase server</a>







<a href="/nagira/index.html">Nagira: RESTful API for Nagios</a>















<a href="/rfb.html">Ready For Business Automation system</a>





<a href="/rspec_normalized_hash/index.html">RSpec tests for Normalized Hash</a>



























<a href="/Web-iPhoto/index.html">Web iPhoto</a>



<h1>Blog <a style="float: right" href="/posts.html"><b>All posts &raquo; </b></a> </h1>


<a href="/2013/08/13/more_about_jekyll.html">Github & Jekyll: More experience with Jekyll and setup changes </a>

<a href="/2013/07/29/day_8_tazawako.html">Літо на півночі Японії: День восьмий: Найглибше озеро Японії </a>

<a href="/2013/07/29/day_4_chusonji.html">Літо на півночі Японії: День четвертий: багато буддистських святинь </a>

<a href="/2013/07/24/day_three_yamadera.html">Літо на півночі Японії: День третій: Окама і Ямадера </a>

<a href="/2013/07/23/druhyi_den.html">Літо на півночі Японії: Другий день </a>

<a href="/2013/05/21/easy_spawn_new_hosts_with_capistrano.html">Build new hosts with Capistrano and Chef </a>

<a href="/2013/05/15/custom_css_for_rt4.html">Request Tracker: More about custom CSS for RT4 </a>

<a href="/2013/03/18/ruby_2_test_drive.html">Ruby 2 test drive </a>

<a href="/2013/03/15/nagira_v0.2.5_release.html">Nagira v0.2.5 release </a>

<a href="/2013/03/13/its_unix_my_dear_watson.html">It's UNIX my dear Watson </a>


<h1 class="even">Slides <a style="float: right" href="/presentations"><b>See all &raquo; </b></a> </h1>












































<a href=/presentations/nagira_tlug.html>Nagira @TLUG, 2012</a>



<a href=/presentations/rspec_and_guard.html>Rspec and Guard</a>



































<h1>About</h1>

<a href="http://uk.wikipedia.org/wiki/%D0%AF%D1%80%D0%B8%D0%BB%D0%BE">Ярило, Yarylo, Jarilo</a>
<a href="http://github.com/dmytro"> @ github</a>
<a href="http://search.cpan.org/~dmytro"> @ CPAN</a>
<a href="http://tinyurl.com/7j89dhl"> Dmytro (CV)</a>
<p><p> </td>
      <td id="centercolumn">


<div class="wikitext">
<div class="titlebar">
     Nagira: RESTful API for Nagios
    
</div>


<div class="download">
      <a href="https://github.com/dmytro/nagira/zipball/master"><img border="0" src="https://github.com/images/modules/download/zip.png"></a><a href="https://github.com/dmytro/nagira/tarball/master"><img border="0" src="https://github.com/images/modules/download/tar.png"></a>
    </div>



<script type="text/javascript" charset="utf-8" src="/js/jquery.js"></script>

<script type="text/javascript">
         $("document").ready(function() {
         createTOC(
                    'h1,h2,h3' ,
            'TOC   ');
    });

// tag : the header tag for which the toc is to be built
// container : id of the div that we want to append the resulting TOC.
function createTOC(tag, container) {
    var anchorCount = 0;  // count to create unique id

    // create an unordered list
    var oList = $("<ul id='bookmarksList'>");
    /*
      1. For each header tag create a named anchor and insert the into header tag.  It will
      serve as the jump location for the TOC.
      2. Add the link to the unordered list that will point to the named anchor.  
    */

    /* Get all h3 inside div where id is not equal to header.
    // For each h3 tag
    //    1. Create the named anchor.  This should be a unique name.
    //    2. Set the html for h3 tag to a named anchor.
    //    3. Add the existing html for the h3 in front of the named anchor.  
    //    4. Create the TOC links
    //    5. Add the TOC to the container.
    */
$('#content').children(tag).each(function() { 
//    $("div([header]) " + tag).each(function() { 

        $(this).html("<a name='bookmark" + anchorCount + "'></a>" +
		     $(this).html());
        oList.append($("<li class='" + this.nodeName +"'><a href='#bookmark" + anchorCount++ + "'>"
		       + $(this).text() + "</a></li>"));
    });
    $("#" + container).append(oList);
}
</script>

    <style>

      #TOC.bookmarkList li { list-style-type: none; }
      li:first-child { text-indent: 0; }
      
    .H1, .H2, .H3, .H4, .H5, .H6 {  display: block; }

    .H1 { text-indent: 0; font-size: 100%; }
    .H2 { text-indent: 2ex; font-size: 90%; }
    .H3 { text-indent: 4ex; font-size: 80%; }
    .H4 { text-indent: 6ex; font-size: 70%; }
    .H5 { text-indent: 8ex; font-size: 60%; }
    .H6 { text-indent: 10ex; font-size: 50%; }
    </style>




<strong id="toc_title">Table Of Contents</strong>
<div id="TOC"></div>




<div id="content">


<div class="float right">
<h3><em>Users say</em></h3>

<em><b>Nagira rocks!!</b><br>

I am deploying your Nagira on top of our Nagios infrastructure in our
5 dc. around the globe. So far i feel thankful that you created this
bad boy.<br>

It's allow me to write checks in cluster point of view much easier,
and I am able to combine host/cluster/service status from Nagios
server around the globe into one dashboard!!!<br>

&nbsp;&nbsp;&nbsp;Patai</em>
</div>


<h3>News</h3>

<ul>
<li><em>Mar 27, 2013 -- Nagira 0.2.6 released</em>
  See details in <a href="https://github.com/dmytro/nagira/blob/v0.2.6/History.md">Release history</a></li>
<li><em>Mar 18, 2013 -- Ruby 2.0.0 support</em>
 Nagira tested with Ruby 2.0.0 RVM installation and added to Travis CI configuration. All tests passing.</li>
<li><em>Mar 15, 2013 - Released version 0.2.5</em> <a href="posts/2013-03-15-nagira_v0.2.5_release">See more</a></li>
</ul>


<p><a href="older_news.html">Older news &raquo;</a></p>

<h2>Description</h2>

<p>Nagira is Ruby/Sinatra light-weight web services API for accessing and operating data of Nagios hosts and services, accessing Nagios configuration.</p>

<p>Nagira works with following data:</p>

<ul>
<li>Objects cache file: hosts, services, contacts, hostgroups, servicegroups, contactgroups, escalations, etc.</li>
<li>Status file: hoststatus, servicestatus, etc.</li>
<li>Submit passive check results to Nagios.</li>
<li>Read Nagios server configuration.</li>
</ul>


<h2>Usage</h2>

<h4><em>Use HTTP client to get object configuration or status information:</em></h4>

<div class="highlight"><pre><code class="bash">    curl http://localhost:4567/objects/contact/list
    curl http://localhost:4567/status/list
    curl http://localhost:4567/status.json
    curl http://localhost:4567/status.xml
</code></pre></div>


<h4><em>Submit passive checks to Nagios</em></h4>

<div class="highlight"><pre><code class="bash">    curl -X PUT -H <span class="s2">&quot;Content-type: application/json;&quot;</span> <span class="se">\</span>
        -d @host_check.json http://nagios.example.com:4567/_status/web_server
        
    <span class="o">{</span>
      <span class="s2">&quot;status_code&quot;</span>:<span class="s2">&quot;0&quot;</span>,
      <span class="s2">&quot;plugin_output&quot;</span> : <span class="s2">&quot;ping OK&quot;</span>
     <span class="o">}</span>
</code></pre></div>


<h4><em>Or use Nagira as data source for Rails application with ActiveResource</em></h4>

<div class="highlight"><pre><code class="ruby"><span class="k">class</span> <span class="nc">Service</span> <span class="o">&lt;</span> <span class="ss">ActiveResource</span><span class="p">:</span><span class="ss">:Base</span>
  <span class="nb">self</span><span class="o">.</span><span class="n">site</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:4567/_status/&quot;</span>
  <span class="nb">self</span><span class="o">.</span><span class="n">element_name</span> <span class="o">=</span> <span class="s2">&quot;service&quot;</span>
<span class="k">end</span>

<span class="o">.</span><span class="n">.</span><span class="o">.</span>

<span class="vi">@services</span> <span class="o">=</span> <span class="no">Service</span><span class="o">.</span><span class="n">all</span>
</code></pre></div>


<h2>Documenation</h2>

<p>See <a href="doc">YARD documentation</a></p>

<h3>Monitoring patterns for Nagios with Nagira API</h3>

<ul>
<li><a href="/2012/12/12/monitoring-patterns-I.html">Part I: Applications with HTTP RESTful API</a></li>
<li><a href="/2012/12/14/monitoring-patterns-II.html">Part II: Nagios Checks Aggregation</a></li>
</ul>


<h3>Nagira presentation</h3>

<p>This presentation was given and recorded live on Tokyo Linux Users Group (TLUG) on January 26th, 2013.</p>

<ul>
<li><a href="http://www.ustream.tv/recorded/28811269">View</a></li>
<li><a href="http://tlug.jp">TLUG wiki</a></li>
<li><a href="/presentations/nagira_tlug.html">Slides of the presentation</a></li>
</ul>




    
    <h2> Author</h2>
<p>
Dmytro Kovalov (<a href="mailto:dmytro.kovalov@gmail.com">dmytro.kovalov@gmail.com</a>)
</p>
        <h2>Download</h2>
    <p>
      Download nagira in either
      <a href="https://github.com/dmytro/nagira/zipball/master">zip</a> or
      <a href="https://github.com/dmytro/nagira/tarball/master">tar formats.</a>
    </p>
    <p>You can also clone nagira with <a href="http://git-scm.com">Git</a>
      by running:
<pre>

     $ git clone git://github.com/dmytro/nagira

</pre>

Go to <a href="http://github.com/dmytro/nagira">Github repository &raquo;</a>
    </p>


</div> <!-- content -->

</table>


<div id="tiki-bot">
  <table style="border-:0; border-top: 10px solid #000; margin: 0; padding: 0; " cellspacing="0" cellpadding="0" width="100%" columns="2">
  <tbody><tr style="padding: 0; margin: 0;"> 
<td style="width: 80%; background-color:#052D6C;  color:#8b0b04; font-style: italic; font-wight: bold; text-align: right; border:0;">
<br clear="all"><br clear="all"><br clear="all"><br clear="all">
</td><td style="border: 0;border-left: 10px solid #000; width:120px; padding: 5px;">
<a class="address" href="mailto:dmytro.kovalov@gmail.com">дмитро ковальов</a></br>
<a class="address" href="https://dmytro.github.com/">dmytro @ github </a><br>
<a class="address" href="http://dmytro.sytes.net">dmytro.sytes.net</a><br>
</td>
</tr></tbody></table>
</div>
<script>$("#content table tr:even").attr("class", "even");</script>
<script src="/js/jquery.js" type="text/javascript" charset="utf-8"></script> 
<script src="/js/jquery.tagcloud.js" type="text/javascript" charset="utf-8"></script> 
<script language="javascript">
$.fn.tagcloud.defaults = {
    size: {start: 0.7, end: 2.5, unit: 'em'},
    color: {start: '#8B0B04', end: '#8B1C04'}
};
 
$(function () {
    $('#tag_cloud a').tagcloud();
});
</script>



</body></html>